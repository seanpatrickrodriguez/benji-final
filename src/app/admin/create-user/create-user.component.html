<form [formGroup]="userForm" (ngSubmit)="createNewUser()">
  <div>
    <label for="email">Email</label>
    <input id="email" formControlName="email" type="email" />
    @if (userForm.get('email')?.invalid && userForm.get('email')?.touched) {
      <small>Email is required and must be valid.</small>
    }
  </div>

  <div>
    <label for="password">Password</label>
    <input id="password" formControlName="password" type="password" />
    @if (userForm.get('password')?.invalid && userForm.get('password')?.touched) {
      <small>Password is required (minimum 6 characters).</small>
    }
  </div>

  <div>
    <label for="role">Role</label>
    <select id="role" formControlName="role">
      <option value="staff">Staff</option>
      <option value="coordinator">Coordinator</option>
      <option value="admin">Admin</option>
    </select>
    @if (userForm.get('role')?.invalid && userForm.get('role')?.touched) {
      <small>Role is required.</small>
    }
  </div>

  <div>
    <label for="phoneNumber">Phone Number</label>
    <input id="phoneNumber" formControlName="phoneNumber" type="text" />
    @if (userForm.get('phoneNumber')?.invalid && userForm.get('phoneNumber')?.touched) {
      <small>Phone number is required and must be valid.</small>
    }
  </div>

  <div>
    <label for="staffId">Staff ID</label>
    <input id="staffId" formControlName="staffId" type="text" />
    @if (userForm.get('staffId')?.invalid && userForm.get('staffId')?.touched) {
      <small>Staff ID is required.</small>
    }
  </div>

  <button type="submit" [disabled]="userForm.invalid || isLoading">Create User</button>

  @if (isLoading) {
    <p>Creating user...</p>
  }

  @if (successMessage) {
    <p>{{ successMessage }}</p>
  }

  @if (errorMessage) {
    <p>{{ errorMessage }}</p>
  }
</form>
